(this["webpackJsonpmutuo-app"]=this["webpackJsonpmutuo-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),l=a(7),o=a(3),c=a(2),s=a(1),m=a(4),u=a.n(m),p=function(e){var t=e.item;return i.a.createElement("tr",{key:t.date},i.a.createElement("td",null,t.date),i.a.createElement("td",{className:"hide-on-mobile"},t.quotaInteressi.toFixed(2)," \u20ac"),i.a.createElement("td",{className:"hide-on-mobile"},t.quotaCapitale.toFixed(2)," \u20ac"),i.a.createElement("td",null,t.rata.toFixed(2)," \u20ac"),i.a.createElement("td",null,t.capitaleVersato.toFixed(2)," \u20ac"),i.a.createElement("td",null,t.debitoResiduo.toFixed(2)," \u20ac"),i.a.createElement("td",null,t.interessiVersati.toFixed(2)," \u20ac"))},d=function(e){var t=e.items;return i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Mese"),i.a.createElement("th",{className:"hide-on-mobile"},"Quota Interessi"),i.a.createElement("th",{className:"hide-on-mobile"},"Quota Capitale"),i.a.createElement("th",null,"Rata"),i.a.createElement("th",null,"Capitale Versato"),i.a.createElement("th",null,"Debito Residuo"),i.a.createElement("th",null,"Interessi Versati"))),i.a.createElement("tbody",null,t.length>0?t.map((function(e,t){return i.a.createElement(p,{key:t,item:e})})):i.a.createElement("tr",{className:"empty-table"},i.a.createElement("td",{colspan:"6"}," Compila il form per visualizzare il piano di ammortamento"))))},E=function(){return i.a.createElement("div",{className:"empty-message message"},"Inserisci capitale, tasso e durata per vedere l'ammortamento del tuo mutuo. Aggiungendo estinzioni parziali puoi risparmiare interessi!")},v=function(e){var t=e.items,a=t.slice(-1).pop(),n=a.mese,r=a.interessiVersati,l=a.capitaleVersato,o=t.filter((function(e){return e.estinzione>0})),c=o.reduce((function(e,t){return e+t.estinzione}),0),s=o.reduce((function(e,t){return e+t.risparmioEstinzione}),0);return i.a.createElement("div",{id:"boxes-container",className:"message"},i.a.createElement("div",null,"Su un ",i.a.createElement("strong",null,"capitale di ",l.toFixed(2)," \u20ac")," vengono applicati ",i.a.createElement("strong",null,r.toFixed(2)," \u20ac di interessi")," in ",i.a.createElement("strong",null,n," mesi"),". ",i.a.createElement("br",null),"Il totale degli interessi da pagare corrisponde al ",i.a.createElement("strong",null,(r/l*100).toFixed(2),"% del capitale"),"."," ",0===o.length?i.a.createElement(i.a.Fragment,null,"Non sono state effettuate estinzioni parziali."):i.a.createElement(i.a.Fragment,null,"Con ",o.length>1?"".concat(o.length," estinzioni parziali"):"".concat(o.length," estinzione parziale"),", per un totale di ",i.a.createElement("strong",null,c.toFixed(2)," \u20ac"),", ",i.a.createElement("strong",null,"vengono risparmiati ",s.toFixed(2)," \u20ac di interessi"),". "),i.a.createElement("br",null),"\xc8 possibile modificare le estinzioni parziali dall'apposito form in basso a destra per vedere il conseguente impatto sulle rate e sugli interessi da corrispondere."))},f=function(e){return i.a.createElement("input",Object.assign({type:"text",pattern:"[0-9]+([,][0-9]{0,2})?"},e))},b=function(e){var t=e.handleChange,a=e.tasso,n=e.capitale,r=e.durata,l=e.inizio,o=function(){for(var e=[],t=5;t<41;)e[t]=12*t,t+=5;return e}(),c=function(){for(var e=u()(),t=[e.format("MM/YYYY")],a=0;a<13;a++){var n=e.add(1,"month");t.push(n.format("MM/YYYY"))}return t}();return i.a.createElement("div",{className:"box box-orange"},i.a.createElement("form",null,i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-capitale"},"Capitale"),i.a.createElement("div",{className:"input-container"},i.a.createElement(f,{placeholder:"Inserisci il capitale",name:"capitale",value:n,onChange:function(e){return t(e)}}),i.a.createElement("span",null,"\u20ac"))),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-tasso"},"Tasso"),i.a.createElement("div",{className:"input-container"},i.a.createElement(f,{placeholder:"Inserisci il tasso",name:"tasso",value:a,onChange:function(e){return t(e)}}),i.a.createElement("span",null,"%"))),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-durata"},"Durata"),i.a.createElement("div",{className:"input-container"},i.a.createElement("select",{name:"durata",onChange:function(e){return t(e)},value:r},i.a.createElement("option",{key:"option-durata-0",value:0},"Scegli una durata"),o.map((function(e,t){return i.a.createElement("option",{key:"option-durata-".concat(e),value:e},t," anni")}))))),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-inizio"},"Inizio"),i.a.createElement("div",{className:"input-container"},i.a.createElement("select",{name:"inizio",onChange:function(e){return t(e)},value:l},i.a.createElement("option",{key:"option-month-0",value:0},"Scegli un inizio"),c.map((function(e){return i.a.createElement("option",{key:"option-month-".concat(e),value:e},e," ")})))))))},g=(a(16),function(e,t,a){var n=z(t);return e*(n/(1-Math.pow(1+n,-a)))}),z=function(e){return e/100/12},h=function(e,t){return e*z(t)},N=function(e){var t=e.items,a=e.addEstinzione,r=Object(n.useState)(!1),l=Object(c.a)(r,2),m=l[0],u=l[1],p=Object(n.useState)([]),d=Object(c.a)(p,2),E=d[0],v=d[1],b=Object(n.useState)({date:t[0].date,importo:"",mese:1}),g=Object(c.a)(b,2),z=g[0],h=g[1];Object(n.useEffect)((function(){var e=t.filter((function(e){return e.estinzione>0})).map((function(e){return e.mese.toString()}));u(e.includes(z.mese.toString()))}),[z,t]),Object(n.useEffect)((function(){var e=t.map((function(e){return{date:e.date,mese:e.mese}}));v(e)}),[t]);var N=function(e){var t=e.target,a=t.value,n=t.name;t.validity.valid&&h(Object(s.a)({},z,Object(o.a)({},n,a)))};return i.a.createElement("div",{id:"form-estinzione",className:"box box-orange"},i.a.createElement("form",{onSubmit:function(e){return function(e){a(z),e.preventDefault()}(e)}},i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-tasso"},"Importo"),i.a.createElement("div",{className:"input-container"},i.a.createElement(f,{placeholder:"Inserisci il importo",name:"importo",onChange:function(e){return N(e)},value:z.importo}),i.a.createElement("span",null,"\u20ac"))),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("label",{htmlFor:"input-inizio"},"Mese"),i.a.createElement("select",{name:"mese",onChange:function(e){return N(e)},value:z.mese},i.a.createElement("option",{key:"option-month-0",value:0},"Scegli un mese"),E.map((function(e){return i.a.createElement("option",{key:"option-month-".concat(e.date),value:e.mese},e.date)})))),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("input",{type:"submit",value:"".concat(m?"Aggiorna":"Aggiungi"," estinzione")}))))},x=function(e){var t=e.items,a=e.removeEstinzione,n=t.filter((function(e){return e.estinzione>0})),r=n.reduce((function(e,t){return e+t.estinzione}),0),l=n.reduce((function(e,t){return e+t.risparmioEstinzione}),0);return i.a.createElement("div",{id:"box-estinzioni",className:"box box-orange"},i.a.createElement("ul",null,n.map((function(e){return i.a.createElement("li",{key:"estinzione-".concat(e.mese)},i.a.createElement("span",null,"Estinzione di ",i.a.createElement("strong",null,e.estinzione.toFixed(2)," \u20ac")," del ",i.a.createElement("strong",null,e.date)," con ",i.a.createElement("strong",null,e.risparmioEstinzione.toFixed(2)," \u20ac")," interessi risparmiati."),i.a.createElement("button",{onClick:function(){return a(e.mese)}},"x"))}))),i.a.createElement("div",{id:"total-estinzioni"},i.a.createElement("div",{className:"total-estinzione"},i.a.createElement("div",null,"Totale estinzioni"),i.a.createElement("div",null,r.toFixed(2)," \u20ac")),i.a.createElement("div",{className:"total-estinzione"},i.a.createElement("div",null,"Totale risparmio"),i.a.createElement("div",null,l.toFixed(2)," \u20ac")),i.a.createElement("div",{className:"total-estinzione"},i.a.createElement("div",null,"Percentuale"),i.a.createElement("div",null,(l/r*100).toFixed(2)," %"))))},F=function(){return i.a.createElement("div",{id:"logo"},i.a.createElement("h1",null,"Mutuo App"),i.a.createElement("h2",null,"Risparmia sul mutuo"))},j=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],m=u()(),p=Object(n.useState)({tasso:"",durata:"",capitale:"",inizio:m.format("MM/YYYY"),estinzioni:[]}),f=Object(c.a)(p,2),z=f[0],j=f[1];Object(n.useEffect)((function(){var e=function(e){var t=e.capitale,a=e.tasso,n=e.durata,i=e.inizio,r=e.estinzioni;if(""===a||""===t||""===n||a>50)return null;var l=r.map((function(e){return"undefined"!==typeof e?Object(s.a)({},e,{importo:parseFloat(e.importo.replace(",","."))}):e}));return{tasso:parseFloat(a.replace(",",".")),capitale:parseFloat(t.replace(",",".")),durata:parseInt(n),estinzioni:l,inizio:i}}(z);if(e){var t=function(e){for(var t=e.tasso,a=e.capitale,n=e.durata,i=e.inizio,r=e.estinzioni,l=[],o=g(a,t,n),c=0;c<n;c+=1){var s=c+1,m="undefined"!==typeof r[s]?r[s].importo:0,p=0,d=o,E=l[c-1]?l[c-1].debitoResiduo:a;0!==m&&(p=(n-s+1)*(d-=o=g(E-m,t,n-s+1))-m);var v=h(E-m,t),f=o-v,b=(l[c-1]?l[c-1].capitaleVersato:0)+(f+m),z=E-(f+m),N=(l[c-1]?l[c-1].interessiVersati:0)+v,x=u()(i,"MM/YYYY").add(c,"month").format("MM/YYYY");l[c]={mese:s,date:x,rata:o,quotaInteressi:v,quotaCapitale:f,capitaleVersato:b,debitoResiduo:z,interessiVersati:N,estinzione:m,risparmioEstinzione:p}}return l}(e);r(t)}}),[z]);return i.a.createElement("div",{id:"app-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement(F,null)),i.a.createElement("div",{className:"column"},i.a.createElement("div",{id:"head-wrapper",className:"box"},0===a.length?i.a.createElement(E,null):i.a.createElement(v,{items:a,key:"box"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement(b,Object.assign({handleChange:function(e){var t=e.target,a=t.value,n=t.name;t.validity.valid&&j(Object(s.a)({},z,Object(o.a)({},n,a)))}},z)),a.length>0&&i.a.createElement(N,{items:a,addEstinzione:function(e){var t=e.mese,a=e.importo,n=e.date,i=Object(l.a)(z.estinzioni);i[t]={importo:a,date:n},j(Object(s.a)({},z,{estinzioni:i}))}}),a.filter((function(e){return e.estinzione>0})).length>0&&i.a.createElement(x,{items:a,removeEstinzione:function(e){var t=Object(l.a)(z.estinzioni);t.splice(e,1),j(Object(s.a)({},z,{estinzioni:t}))}})),i.a.createElement("div",{className:"column"},a.length>0&&i.a.createElement(d,{items:a,key:"table"}))))};Object(r.render)(i.a.createElement(j,null),document.getElementById("mutuo-app"))}},[[10,1,2]]]);
//# sourceMappingURL=main.19ba0cfa.chunk.js.map