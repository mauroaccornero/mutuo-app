{"version":3,"sources":["components/TableItem.jsx","components/Table.jsx","components/Message.jsx","components/Box.jsx","components/Input.jsx","components/FormMutuo.jsx","core/Financial.js","components/FormEstinzione.jsx","components/Estinzioni.jsx","components/Logo.jsx","containers/App.js","index.js"],"names":["TableItem","item","key","date","className","quotaInteressi","toFixed","quotaCapitale","rata","capitaleVersato","debitoResiduo","interessiVersati","Table","items","length","map","i","colspan","Message","Box","slice","pop","mese","estinzioni","filter","estinzione","totaleEstinzioni","reduce","acc","totaleRisparmio","risparmioEstinzione","id","Input","props","type","pattern","FormMutuo","handleChange","tasso","capitale","durata","inizio","selectData","yearsToMonth","months","today","moment","format","m","currMonth","add","push","makeMonths","htmlFor","placeholder","name","value","onChange","e","month","year","t","convertiTasso","Math","pow","interessiRata","FormEstinzione","addEstinzione","useState","isUpdate","setIsUpdate","setMonths","importo","setEstinzione","useEffect","monthsWithEstinzione","toString","includes","target","validity","valid","onSubmit","preventDefault","handleSubmit","Estinzioni","removeEstinzione","onClick","Logo","App","setItems","data","setData","normalizedData","normalizedEstinzioni","parseFloat","replace","parseInt","normalizeData","ammortamentoItems","ammortamento","r","diffRata","cp","updatedEstinzioni","splice","render","document","getElementById"],"mappings":"oPAGaA,EAAY,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAEvB,OACI,wBAAIC,IAAKD,EAAKE,MACV,4BAAKF,EAAKE,MACV,wBAAIC,UAAW,kBAAmBH,EAAKI,eAAeC,QAAQ,GAA9D,WACA,wBAAIF,UAAW,kBAAmBH,EAAKM,cAAcD,QAAQ,GAA7D,WACA,4BAAKL,EAAKO,KAAKF,QAAQ,GAAvB,WACA,4BAAKL,EAAKQ,gBAAgBH,QAAQ,GAAlC,WACA,4BAAKL,EAAKS,cAAcJ,QAAQ,GAAhC,WACA,4BAAKL,EAAKU,iBAAiBL,QAAQ,GAAnC,aCRCM,EAAQ,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACnB,OACQ,+BACI,+BACA,4BACI,oCACA,wBAAIT,UAAW,kBAAf,mBACA,wBAAIA,UAAW,kBAAf,kBACA,oCACA,gDACA,8CACA,mDAGJ,+BACCS,EAAMC,OAAS,EACZD,EAAME,KAAI,SAACd,EAAMe,GAAP,OAAa,kBAAC,EAAD,CAAWd,IAAKc,EAAGf,KAAMA,OAE/C,wBAAIG,UAAU,eACX,wBAAIa,QAAQ,KAAZ,kECtBXC,EAAU,WAEnB,OAAQ,yBAAKd,UAAS,yBADL,4ICARe,EAAM,SAAC,GAAa,IAAZN,EAAW,EAAXA,MAAW,EACuBA,EAAMO,OAAO,GAAGC,MAA3DC,EADoB,EACpBA,KAAMX,EADc,EACdA,iBAAkBF,EADJ,EACIA,gBAC1Bc,EAAaV,EAAMW,QAAO,SAAAR,GAAC,OAAIA,EAAES,WAAa,KAC9CC,EAAmBH,EAAWI,QAAO,SAACC,EAAK3B,GAAN,OAAe2B,EAAM3B,EAAKwB,aAAY,GAC3EI,EAAkBN,EAAWI,QAAO,SAACC,EAAK3B,GAAN,OAAe2B,EAAM3B,EAAK6B,sBAAqB,GACzF,OACI,yBAAKC,GAAG,kBAAkB3B,UAAU,WAChC,sCACU,+CAAqBK,EAAgBH,QAAQ,GAA7C,WADV,sBACwF,gCAASK,EAAiBL,QAAQ,GAAlC,wBADxF,OACyJ,gCAASgB,EAAT,SADzJ,KACuL,6BADvL,sDAEuD,iCAAUX,EAAiBF,EAAgB,KAAKH,QAAQ,GAAxD,kBAFvD,IAE2I,IAC/G,IAAtBiB,EAAWT,OAAe,sFAAsD,2CAAOS,EAAWT,OAAS,EAApB,UAA2BS,EAAWT,OAAtC,kCAAwES,EAAWT,OAAnF,wBAAP,sBAA0I,gCAASY,EAAiBpB,QAAQ,GAAlC,WAA1I,KAA4L,uDAA6BuB,EAAgBvB,QAAQ,GAArD,wBAA5L,MAAkR,6BAHxW,4KCRC0B,EAAQ,SAAAC,GACjB,OAAQ,yCACJC,KAAK,OACLC,QAAQ,0BACJF,KCoBCG,EAAY,SAAC,GAAqD,IAApDC,EAAmD,EAAnDA,aAAcC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OACxDC,EArBW,WAGjB,IAFA,IAAIC,EAAe,GACf3B,EAAI,EACDA,EAAI,IACP2B,EAAa3B,GAAS,GAAJA,EAClBA,GAAK,EAET,OAAO2B,EAcYA,GACbC,EAZS,WAGf,IAFA,IAAMC,EAAQC,MACRF,EAAS,CAACC,EAAME,OAAO,YACpBC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAMC,EAAYJ,EAAMK,IAAI,EAAG,SAC/BN,EAAOO,KAAKF,EAAUF,OAAO,YAEjC,OAAOH,EAKQQ,GACf,OACI,yBAAKhD,UAAU,kBACX,8BACI,yBAAKA,UAAU,iBAEX,2BAAOiD,QAAQ,kBAAf,YACA,yBAAKjD,UAAU,mBACX,kBAAC,EAAD,CACIkD,YAAY,wBACZC,KAAK,WACLC,MAAOjB,EACPkB,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,MAC9B,0CAGV,yBAAKtD,UAAU,iBACX,2BAAOiD,QAAQ,eAAf,SACA,yBAAKjD,UAAU,mBACX,kBAAC,EAAD,CACIkD,YAAY,qBACZC,KAAK,QACLC,MAAOlB,EACPmB,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,MAC9B,qCAGV,yBAAKtD,UAAU,iBACX,2BAAOiD,QAAQ,gBAAf,UACA,yBAAKjD,UAAU,mBACX,4BACImD,KAAK,SACLE,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,IAC5BF,MAAOhB,GAEP,4BAAQtC,IAAG,kBAAqBsD,MAAO,GAAvC,qBACCd,EAAW3B,KAAI,SAAC4C,EAAOC,GACpB,OAAQ,4BAAQ1D,IAAG,wBAAmByD,GAASH,MAAOG,GAAQC,EAAtD,eAKxB,yBAAKxD,UAAU,iBACX,2BAAOiD,QAAQ,gBAAf,UACA,yBAAKjD,UAAU,mBACX,4BACImD,KAAK,SACLE,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,IAC5BF,MAAOf,GAEP,4BAAQvC,IAAG,iBAAoBsD,MAAO,GAAtC,oBACCZ,EAAO7B,KAAI,SAAA4C,GACR,OAAQ,4BAAQzD,IAAG,uBAAkByD,GAASH,MAAOG,GAAQA,EAArD,cC9E3BnD,G,MAAO,SAAC+B,EAAUD,EAAOE,GAClC,IAAMqB,EAAIC,EAAcxB,GAExB,OAAOC,GAAYsB,GAAK,EADdE,KAAKC,IAAK,EAAIH,GAAKrB,OAIpBsB,EAAgB,SAACxB,GAC1B,OAAQA,EAAQ,IAAO,IA0Cd2B,EAAgB,SAAC1B,EAAUD,GAEpC,OAAOC,EADGuB,EAAcxB,IC7Cf4B,EAAiB,SAAC,GAA4B,IAA3BrD,EAA0B,EAA1BA,MAAOsD,EAAmB,EAAnBA,cAAmB,EACtBC,oBAAS,GADa,mBAC/CC,EAD+C,KACrCC,EADqC,OAE1BF,mBAAS,IAFiB,mBAE/CxB,EAF+C,KAEvC2B,EAFuC,OAGlBH,mBAAS,CACzCjE,KAAMU,EAAM,GAAGV,KACfqE,QAAS,GACTlD,KAAM,IAN4C,mBAG/CG,EAH+C,KAGnCgD,EAHmC,KAStDC,qBAAU,WACN,IAAMC,EAAuB9D,EACxBW,QAAO,SAAAR,GAAC,OAAIA,EAAES,WAAa,KAC3BV,KAAI,SAAAC,GAAC,OAAIA,EAAEM,KAAKsD,cACrBN,EAAYK,EAAqBE,SAASpD,EAAWH,KAAKsD,eAC3D,CAACnD,EAAWZ,IAEf6D,qBAAU,WACN,IAAM1B,EAAInC,EAAME,KAAI,SAAAC,GAAC,MAAK,CAACb,KAAMa,EAAEb,KAAMmB,KAAMN,EAAEM,SACjDiD,EAAUvB,KACZ,CAACnC,IAGH,IAAMwB,EAAe,SAAAqB,GAAM,IAAD,EACWA,EAAEoB,OAA5BtB,EADe,EACfA,MAAOD,EADQ,EACRA,KADQ,EACFwB,SACPC,OACTP,EAAc,eAAIhD,EAAL,eAAkB8B,EAAOC,MAS9C,OACI,yBAAKzB,GAAG,kBAAkB3B,UAAU,kBAChC,0BAAM6E,SAAU,SAAAvB,GAAC,OAPJ,SAAAA,GACjBS,EAAc1C,GACdiC,EAAEwB,iBAKuBC,CAAazB,KAC9B,yBAAKtD,UAAU,iBACX,2BAAOiD,QAAQ,eAAf,WACA,yBAAKjD,UAAU,mBACX,kBAAC,EAAD,CACIkD,YAAY,uBACZC,KAAK,UACLE,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,IAC5BF,MAAO/B,EAAW+C,UACpB,0CAGV,yBAAKpE,UAAU,iBACX,2BAAOiD,QAAQ,gBAAf,QACA,4BACIE,KAAK,OACLE,SAAU,SAAAC,GAAC,OAAIrB,EAAaqB,IAC5BF,MAAO/B,EAAWH,MAElB,4BAAQpB,IAAG,iBAAoBsD,MAAO,GAAtC,kBACCZ,EAAO7B,KAAI,SAAA4C,GACR,OAAQ,4BAAQzD,IAAG,uBAAkByD,EAAMxD,MAAQqD,MAAOG,EAAMrC,MAAOqC,EAAMxD,WAKzF,yBAAKC,UAAU,iBACX,2BAAO8B,KAAK,SAASsB,MAAK,UAAKa,EAAW,WAAa,WAA7B,qBCnEjCe,EAAa,SAAC,GAA+B,IAA9BvE,EAA6B,EAA7BA,MAAOwE,EAAsB,EAAtBA,iBACzB9D,EAAaV,EAAMW,QAAO,SAAAR,GAAC,OAAIA,EAAES,WAAa,KAC9CC,EAAmBH,EAAWI,QAAO,SAACC,EAAK3B,GAAN,OAAe2B,EAAM3B,EAAKwB,aAAY,GAC3EI,EAAkBN,EAAWI,QAAO,SAACC,EAAK3B,GAAN,OAAe2B,EAAM3B,EAAK6B,sBAAqB,GACzF,OACI,yBAAKC,GAAG,iBAAiB3B,UAAU,kBAC/B,4BACKmB,EAAWR,KAAI,SAAA2C,GACZ,OAAO,wBAAIxD,IAAG,qBAAgBwD,EAAEpC,OAC5B,+CAAoB,gCAASoC,EAAEjC,WAAWnB,QAAQ,GAA9B,WAApB,QAAqE,gCAASoD,EAAEvD,MAAhF,QAAmG,gCAASuD,EAAE5B,oBAAoBxB,QAAQ,GAAvC,WAAnG,2BACA,4BAAQgF,QAAS,kBAAMD,EAAiB3B,EAAEpC,QAA1C,UAKZ,yBAAKS,GAAG,oBACJ,yBAAK3B,UAAU,oBACX,kDACA,6BAAMsB,EAAiBpB,QAAQ,GAA/B,YAEJ,yBAAKF,UAAU,oBACX,iDACA,6BAAMyB,EAAgBvB,QAAQ,GAA9B,YAEJ,yBAAKF,UAAU,oBACX,4CACA,8BAAOyB,EAAkBH,EAAmB,KAAKpB,QAAQ,GAAzD,UC3BPiF,EAAO,WAChB,OAAO,yBAAKxD,GAAG,QACX,yCACA,qDCqGOyD,EAlEH,WAAO,IAAD,EACYpB,mBAAS,IADrB,mBACPvD,EADO,KACA4E,EADA,KAER5C,EAAQC,MAFA,EAGUsB,mBAAS,CAC7B9B,MAAO,GACPE,OAAQ,GACRD,SAAU,GACVE,OAAQI,EAAME,OAAO,WACrBxB,WAAY,KARF,mBAGPmE,EAHO,KAGDC,EAHC,KAWdjB,qBAAU,WACF,IAAMkB,EArCI,SAAC,GAAmD,IAAlDrD,EAAiD,EAAjDA,SAAUD,EAAuC,EAAvCA,MAAOE,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,OAAQlB,EAAgB,EAAhBA,WACrD,GAAa,KAAVe,GAA6B,KAAbC,GAA8B,KAAXC,GAAiBF,EAAQ,GAC3D,OAAO,KAGX,IAAMuD,EAAuBtE,EAAWR,KAAI,SAAA2C,GACxC,MAAgB,qBAANA,EACC,eACAA,EADP,CAEIc,QAASsB,WAAWpC,EAAEc,QAAQuB,QAAQ,IAAI,QAG3CrC,KAGX,MAAO,CACHpB,MAAOwD,WAAWxD,EAAMyD,QAAQ,IAAI,MACpCxD,SAAUuD,WAAWvD,EAASwD,QAAQ,IAAI,MAC1CvD,OAAQwD,SAASxD,GACjBjB,WAAYsE,EACZpD,OAAQA,GAiBmBwD,CAAcP,GACrC,GAAGE,EAAgB,CACf,IAAMM,EJ1CM,YAGxB,IAH6E,IAAnD5D,EAAkD,EAAlDA,MAAOC,EAA2C,EAA3CA,SAAUC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,OAAQlB,EAAiB,EAAjBA,WACrD4E,EAAe,GACjBC,EAAI5F,EAAK+B,EAAUD,EAAOE,GACrBQ,EAAI,EAAGA,EAAIR,EAAQQ,GAAK,EAAG,CAChC,IAAM1B,EAAO0B,EAAI,EACXvB,EAAyC,qBAArBF,EAAWD,GAAwBC,EAAWD,GAAMkD,QAAU,EACpF1C,EAAsB,EACtBuE,EAAWD,EACXE,EAAMH,EAAanD,EAAI,GAAKmD,EAAanD,EAAI,GAAGtC,cAAgB6B,EACjD,IAAfd,IAGAK,GAAwBU,EAASlB,EAAO,IADxC+E,GADAD,EAAI5F,EAAK8F,EAAK7E,EAAYa,EAAOE,EAASlB,EAAO,IAEQG,GAG7D,IAAIpB,EAAiB4D,EAAcqC,EAAK7E,EAAYa,GAChD/B,EAAiB6F,EAAI/F,EACrBI,GAAmB0F,EAAanD,EAAI,GAAKmD,EAAanD,EAAI,GAAGvC,gBAAkB,IAAMF,EAAgBkB,GACrGf,EAAgB4F,GAAM/F,EAAgBkB,GACtCd,GAAoBwF,EAAanD,EAAI,GAAKmD,EAAanD,EAAI,GAAGrC,iBAAmB,GAAKN,EACtFF,EAAO2C,IAAOL,EAAO,WAAWS,IAAIF,EAAE,SAASD,OAAO,WAE1DoD,EAAanD,GAAK,CACd1B,OACAnB,OACAK,KAAM4F,EACN/F,eAAgBA,EAChBE,cAAeA,EACfE,gBAAiBA,EACjBC,cAAeA,EACfC,iBAAkBA,EAClBc,aACAK,uBAIR,OAAOqE,EIM+BA,CAAaP,GACvCH,EAASS,MAElB,CAACR,IAsBJ,OACI,yBAAK3D,GAAG,iBACJ,yBAAK3B,UAAU,OACX,yBAAKA,UAAU,UACX,kBAAC,EAAD,OAEJ,yBAAKA,UAAU,UACX,yBAAK2B,GAAG,eAAe3B,UAAU,OACX,IAAjBS,EAAMC,OAAgB,kBAAC,EAAD,MAAc,kBAAC,EAAD,CAAKD,MAAOA,EAAOX,IAAI,WAIxE,yBAAKE,UAAU,OACX,yBAAKA,UAAU,UACX,kBAAC,EAAD,eAAWiC,aAlCN,SAAAqB,GAAM,IAAD,EACUA,EAAEoB,OAA3BtB,EADe,EACfA,MAAOD,EADQ,EACRA,KADQ,EACFwB,SACPC,OACTW,EAAQ,eAAID,EAAL,eAAYnC,EAAOC,OA+ByBkC,IAC1C7E,EAAMC,OAAS,GAAK,kBAAC,EAAD,CAAgBD,MAAOA,EAAOsD,cA5B7C,SAAA1C,GAAe,IACzBH,EAAuBG,EAAvBH,KAAMkD,EAAiB/C,EAAjB+C,QAASrE,EAAQsB,EAARtB,KACjBoG,EAAiB,YAAOb,EAAKnE,YACnCgF,EAAkBjF,GAAQ,CAACkD,UAASrE,QACpCwF,EAAQ,eAAID,EAAL,CAAWnE,WAAYgF,QAyBjB1F,EAAMW,QAAO,SAAAkC,GAAC,OAAKA,EAAEjC,WAAa,KAAGX,OAAS,GAAK,kBAAC,EAAD,CAAYD,MAAOA,EAAOwE,iBAtBrE,SAAA1B,GACrB,IAAM4C,EAAiB,YAAOb,EAAKnE,YACnCgF,EAAkBC,OAAO7C,EAAO,GAChCgC,EAAQ,eAAID,EAAL,CAAWnE,WAAYgF,SAqBtB,yBAAKnG,UAAU,UACNS,EAAMC,OAAS,GAAK,kBAAC,EAAD,CAAOD,MAAOA,EAAOX,IAAI,cC5FtEuG,iBAAO,kBAAC,EAAD,MACLC,SAASC,eAAe,gB","file":"static/js/main.cff92342.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const TableItem = ({item}) => {\n\n    return (\n        <tr key={item.date}>\n            <td>{item.date}</td>\n            <td className={\"hide-on-mobile\"}>{item.quotaInteressi.toFixed(2)} €</td>\n            <td className={\"hide-on-mobile\"}>{item.quotaCapitale.toFixed(2)} €</td>\n            <td>{item.rata.toFixed(2)} €</td>\n            <td>{item.capitaleVersato.toFixed(2)} €</td>\n            <td>{item.debitoResiduo.toFixed(2)} €</td>\n            <td>{item.interessiVersati.toFixed(2)} €</td>\n        </tr>\n    );\n};\n\nTableItem.propTypes = {\n    item: PropTypes.shape({\n        date: PropTypes.string.isRequired,\n        mese: PropTypes.number.isRequired,\n        quotaInteressi: PropTypes.number.isRequired,\n        quotaCapitale: PropTypes.number.isRequired,\n        rata: PropTypes.number.isRequired,\n        capitaleVersato: PropTypes.number.isRequired,\n        debitoResiduo: PropTypes.number.isRequired,\n        interessiVersati: PropTypes.number.isRequired,\n    }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n/**/\nimport {TableItem} from './TableItem';\n\nexport const Table = ({items}) => {\n    return (\n            <table>\n                <thead>\n                <tr>\n                    <th>Mese</th>\n                    <th className={\"hide-on-mobile\"}>Quota Interessi</th>\n                    <th className={\"hide-on-mobile\"}>Quota Capitale</th>\n                    <th>Rata</th>\n                    <th>Capitale Versato</th>\n                    <th>Debito Residuo</th>\n                    <th>Interessi Versati</th>\n                </tr>\n                </thead>\n                <tbody>\n                {items.length > 0 ?\n                    items.map((item, i) => <TableItem key={i} item={item}/>)\n                    :\n                    (<tr className=\"empty-table\">\n                        <td colspan=\"6\"> Compila il form per visualizzare il piano di ammortamento</td>\n                    </tr>)\n                }\n                </tbody>\n            </table>\n    );\n};\n\nTable.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n","import React from 'react'\n\nexport const Message = () => {\n    const message =  \"Inserisci capitale, tasso e durata per vedere l'ammortamento del tuo mutuo. Aggiungendo estinzioni parziali puoi risparmiare interessi!\"\n    return (<div className={`empty-message message`}>{message}</div>)\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Box = ({items}) => {\n    const { mese, interessiVersati, capitaleVersato} = items.slice(-1).pop();\n    const estinzioni = items.filter(i => i.estinzione > 0);\n    const totaleEstinzioni = estinzioni.reduce((acc, item) => acc + item.estinzione, 0);\n    const totaleRisparmio = estinzioni.reduce((acc, item) => acc + item.risparmioEstinzione, 0);\n    return (\n        <div id=\"boxes-container\" className=\"message\">\n            <div>\n                Su un <strong>capitale di {capitaleVersato.toFixed(2)} €</strong> vengono applicati <strong>{interessiVersati.toFixed(2)} € di interessi</strong> in <strong>{mese} mesi</strong>. <br/>\n                Il totale degli interessi da pagare corrisponde al <strong>{(interessiVersati/capitaleVersato*100).toFixed(2)}% del capitale</strong>.{' '}\n                { estinzioni.length === 0 ? <>Non sono state effettuate estinzioni parziali.</> : <>Con {estinzioni.length > 1 ? `${estinzioni.length} estinzioni parziali` : `${estinzioni.length} estinzione parziale`}, per un totale di <strong>{totaleEstinzioni.toFixed(2)} €</strong>, <strong>vengono risparmiati {totaleRisparmio.toFixed(2)} € di interessi</strong>. </>}<br />\n                È possibile modificare le estinzioni parziali dall'apposito form in basso a destra per vedere il conseguente impatto sulle rate e sugli interessi da corrispondere.\n            </div>\n        </div>\n    );\n};\n\nBox.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.any),\n};\n","import React from \"react\";\n\nexport const Input = props => {\n    return (<input\n        type=\"text\"\n        pattern=\"[0-9]+([,][0-9]{0,2})?\"\n        {...props}\n    />)\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from \"moment\";\n/**/\nimport {Input} from \"./Input\";\n\nconst yearsToMonth = () => {\n    let yearsToMonth = [];\n    let i = 5;\n    while (i < 41) {\n        yearsToMonth[i] = i * 12;\n        i += 5;\n    }\n    return yearsToMonth;\n};\n\nconst makeMonths = () => {\n    const today = moment();\n    const months = [today.format(\"MM/YYYY\")];\n    for (let m = 0; m < 13; m++) {\n        const currMonth = today.add(1, \"month\");\n        months.push(currMonth.format(\"MM/YYYY\"));\n    }\n    return months;\n};\n\nexport const FormMutuo = ({handleChange, tasso, capitale, durata, inizio}) => {\n    const selectData = yearsToMonth();\n    const months = makeMonths();\n    return (\n        <div className=\"box box-orange\">\n            <form>\n                <div className=\"input-wrapper\">\n                    {/*TODO: SOME TOOLTIP*/}\n                    <label htmlFor=\"input-capitale\">Capitale</label>\n                    <div className=\"input-container\">\n                        <Input\n                            placeholder='Inserisci il capitale'\n                            name='capitale'\n                            value={capitale}\n                            onChange={e => handleChange(e)}\n                        /><span>€</span>\n                    </div>\n                </div>\n                <div className=\"input-wrapper\">\n                    <label htmlFor=\"input-tasso\">Tasso</label>\n                    <div className=\"input-container\">\n                        <Input\n                            placeholder='Inserisci il tasso'\n                            name='tasso'\n                            value={tasso}\n                            onChange={e => handleChange(e)}\n                        /><span>%</span>\n                    </div>\n                </div>\n                <div className=\"input-wrapper\">\n                    <label htmlFor=\"input-durata\">Durata</label>\n                    <div className=\"input-container\">\n                        <select\n                            name='durata'\n                            onChange={e => handleChange(e)}\n                            value={durata}\n                        >\n                            <option key={`option-durata-0`} value={0}>Scegli una durata</option>\n                            {selectData.map((month, year) => {\n                                return (<option key={`option-durata-${month}`} value={month}>{year} anni</option>);\n                            })}\n                        </select>\n                    </div>\n                </div>\n                <div className=\"input-wrapper\">\n                    <label htmlFor=\"input-inizio\">Inizio</label>\n                    <div className=\"input-container\">\n                        <select\n                            name='inizio'\n                            onChange={e => handleChange(e)}\n                            value={inizio}\n                        >\n                            <option key={`option-month-0`} value={0}>Scegli un inizio</option>\n                            {months.map(month => {\n                                return (<option key={`option-month-${month}`} value={month}>{month} </option>);\n                            })}\n                        </select>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nFormMutuo.propTypes = {\n    handleChange: PropTypes.func.isRequired,\n};\n","import moment from \"moment\";\n\nexport const rata = (capitale, tasso, durata) => {\n    const t = convertiTasso(tasso);\n    const d = Math.pow((1 + t), -durata);\n    return capitale * (t / (1 - d));\n};\n\nexport const convertiTasso = (tasso) => {\n    return (tasso / 100) / 12;\n};\n\nexport const ammortamento = ({tasso, capitale, durata, inizio, estinzioni }) => {\n    const ammortamento = [];\n    let r = rata(capitale, tasso, durata);\n    for (let m = 0; m < durata; m += 1) {\n        const mese = m + 1;\n        const estinzione = typeof estinzioni[mese] !== \"undefined\" ? estinzioni[mese].importo : 0;\n        let risparmioEstinzione = 0;\n        let diffRata = r;\n        let cp = (ammortamento[m - 1] ? ammortamento[m - 1].debitoResiduo : capitale);\n        if (estinzione !== 0) {\n            r = rata(cp - estinzione, tasso, durata - mese + 1);\n            diffRata -= r;\n            risparmioEstinzione = ((durata - mese + 1) * diffRata) - estinzione;\n        }\n\n        let quotaInteressi = interessiRata(cp - estinzione, tasso);\n        let quotaCapitale = (r - quotaInteressi);\n        let capitaleVersato = (ammortamento[m - 1] ? ammortamento[m - 1].capitaleVersato : 0) + (quotaCapitale + estinzione);\n        let debitoResiduo = cp - (quotaCapitale + estinzione);\n        let interessiVersati = (ammortamento[m - 1] ? ammortamento[m - 1].interessiVersati : 0) + quotaInteressi;\n        let date = moment(inizio,\"MM/YYYY\").add(m,\"month\").format(\"MM/YYYY\")\n\n        ammortamento[m] = {\n            mese,\n            date,\n            rata: r,\n            quotaInteressi: quotaInteressi,\n            quotaCapitale: quotaCapitale,\n            capitaleVersato: capitaleVersato,\n            debitoResiduo: debitoResiduo,\n            interessiVersati: interessiVersati,\n            estinzione,\n            risparmioEstinzione\n        };\n    }\n\n    return ammortamento;\n};\n\nexport const interessiRata = (capitale, tasso) => {\n    const t = convertiTasso(tasso);\n    return capitale * t;\n};\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from \"moment\";\n/**/\nimport {Input} from \"./Input\";\n\n\nexport const FormEstinzione = ({items, addEstinzione}) => {\n    const [isUpdate, setIsUpdate] = useState(false);\n    const [months, setMonths] = useState([]);\n    const [estinzione, setEstinzione] = useState({\n        date: items[0].date,\n        importo: \"\",\n        mese: 1\n    });\n\n    useEffect(() => {\n        const monthsWithEstinzione = items\n            .filter(i => i.estinzione > 0)\n            .map(i => i.mese.toString())\n        setIsUpdate(monthsWithEstinzione.includes(estinzione.mese.toString()))\n    }, [estinzione,items]);\n\n    useEffect(() => {\n        const m = items.map(i => ({date: i.date, mese: i.mese}))\n        setMonths(m)\n    },[items])\n\n\n    const handleChange = e => {\n        const {value, name, validity } = e.target\n        if (validity.valid) {\n            setEstinzione({...estinzione, [name]: value})\n        }\n    }\n\n    const handleSubmit = e => {\n        addEstinzione(estinzione)\n        e.preventDefault()\n    }\n\n    return (\n        <div id=\"form-estinzione\" className='box box-orange'>\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className=\"input-wrapper\">\n                    <label htmlFor=\"input-tasso\">Importo</label>\n                    <div className=\"input-container\">\n                        <Input\n                            placeholder='Inserisci il importo'\n                            name='importo'\n                            onChange={e => handleChange(e)}\n                            value={estinzione.importo}\n                        /><span>€</span>\n                    </div>\n                </div>\n                <div className=\"input-wrapper\">\n                    <label htmlFor=\"input-inizio\">Mese</label>\n                    <select\n                        name='mese'\n                        onChange={e => handleChange(e)}\n                        value={estinzione.mese}\n                    >\n                        <option key={`option-month-0`} value={0}>Scegli un mese</option>\n                        {months.map(month => {\n                            return (<option key={`option-month-${month.date}`} value={month.mese}>{month.date}</option>);\n                        })}\n                    </select>\n                </div>\n\n                <div className=\"input-wrapper\">\n                    <input type=\"submit\" value={`${isUpdate ? \"Aggiorna\" : \"Aggiungi\"} estinzione`}/>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nFormEstinzione.propTypes = {\n    addEstinzione: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Estinzioni = ({items, removeEstinzione}) => {\n    const estinzioni = items.filter(i => i.estinzione > 0);\n    const totaleEstinzioni = estinzioni.reduce((acc, item) => acc + item.estinzione, 0);\n    const totaleRisparmio = estinzioni.reduce((acc, item) => acc + item.risparmioEstinzione, 0);\n    return (\n        <div id=\"box-estinzioni\" className=\"box box-orange\">\n            <ul>\n                {estinzioni.map(e => {\n                    return <li key={`estinzione-${e.mese}`}>\n                        <span>Estinzione di <strong>{e.estinzione.toFixed(2)} €</strong> del <strong>{e.date}</strong> con <strong>{e.risparmioEstinzione.toFixed(2)} €</strong> interessi risparmiati.</span>\n                        <button onClick={() => removeEstinzione(e.mese)}>x</button>\n                    </li>;\n                })}\n            </ul>\n\n            <div id=\"total-estinzioni\">\n                <div className=\"total-estinzione\">\n                    <div>Totale estinzioni</div>\n                    <div>{totaleEstinzioni.toFixed(2)} €</div>\n                </div>\n                <div className=\"total-estinzione\">\n                    <div>Totale risparmio</div>\n                    <div>{totaleRisparmio.toFixed(2)} €</div>\n                </div>\n                <div className=\"total-estinzione\">\n                    <div>Percentuale</div>\n                    <div>{(totaleRisparmio / totaleEstinzioni * 100).toFixed(2)} %</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nEstinzioni.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.any),\n};\n","import React from 'react';\n\nexport const Logo = () => {\n    return <div id=\"logo\">\n        <h1>Mutuo App</h1>\n        <h2>Risparmia sul mutuo</h2>\n    </div>;\n};\n","import React, {useState, useEffect} from 'react';\nimport moment from \"moment\";\n/* components */\nimport {Table} from '../components/Table';\nimport { Message } from '../components/Message';\nimport {Box} from '../components/Box';\nimport {FormMutuo} from '../components/FormMutuo';\n/* css */\nimport '../assets/css/app.scss';\n/* core */\nimport {ammortamento} from '../core/Financial';\nimport {FormEstinzione} from \"../components/FormEstinzione\";\nimport {Estinzioni} from \"../components/Estinzioni\";\nimport {Logo} from \"../components/Logo\";\n\nconst normalizeData = ({capitale, tasso, durata, inizio, estinzioni}) => {\n    if(tasso === \"\" || capitale === \"\" || durata === \"\" || tasso > 50){\n        return null\n    }\n\n    const normalizedEstinzioni = estinzioni.map(e => {\n        if(typeof e !== \"undefined\"){\n            return ({\n                ...e,\n                importo: parseFloat(e.importo.replace(\",\",\".\"))\n            })\n        }\n        return e\n    })\n\n    return {\n        tasso: parseFloat(tasso.replace(\",\",\".\")),\n        capitale: parseFloat(capitale.replace(\",\",\".\")),\n        durata: parseInt(durata),\n        estinzioni: normalizedEstinzioni,\n        inizio: inizio\n    }\n}\n\n/*TODO: TRANSLATE IN ENGLISH*/\nconst App = () => {\n    const [items, setItems] = useState([]);\n    const today = moment()\n    const [data, setData] = useState({\n        tasso: \"\",\n        durata: \"\",\n        capitale: \"\",\n        inizio: today.format(\"MM/YYYY\"),\n        estinzioni: []\n    });\n\n    useEffect(() => {\n            const normalizedData = normalizeData(data);\n            if(normalizedData) {\n                const ammortamentoItems = ammortamento(normalizedData);\n                setItems(ammortamentoItems);\n            }\n    }, [data]);\n\n    const handleChange = e => {\n        const {value, name, validity} = e.target;\n        if (validity.valid) {\n            setData({...data, [name]: value});\n        }\n    };\n\n    const addEstinzione = estinzione => {\n        const { mese, importo, date} = estinzione\n        const updatedEstinzioni = [...data.estinzioni]\n        updatedEstinzioni[mese] = {importo, date}\n        setData({...data, estinzioni: updatedEstinzioni });\n    }\n\n    const removeEstinzione = month => {\n        const updatedEstinzioni = [...data.estinzioni]\n        updatedEstinzioni.splice(month, 1);\n        setData({...data, estinzioni: updatedEstinzioni });\n    }\n\n    return (\n        <div id='app-container'>\n            <div className=\"row\">\n                <div className=\"column\">\n                    <Logo />\n                </div>\n                <div className=\"column\">\n                    <div id=\"head-wrapper\" className='box'>\n                        {items.length === 0  ? <Message /> : <Box items={items} key=\"box\"/> }\n                    </div>\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"column\">\n                    <FormMutuo handleChange={handleChange} {...data}  />\n                    {items.length > 0 && <FormEstinzione items={items} addEstinzione={addEstinzione}/> }\n                    {items.filter(e =>  e.estinzione > 0).length > 0 && <Estinzioni items={items} removeEstinzione={removeEstinzione} /> }\n                </div>\n                <div className=\"column\">\n                        {items.length > 0 && <Table items={items} key=\"table\" /> }\n                        {/*TODO: ADD SOME SPONSOR SPACE */}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react'\nimport { render } from 'react-dom'\n/* containers */\nimport App from './containers/App'\n\n\nrender(<App />,\n  document.getElementById('mutuo-app')\n)\n\n"],"sourceRoot":""}