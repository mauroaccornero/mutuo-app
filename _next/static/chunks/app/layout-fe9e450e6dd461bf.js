(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7312:function(e,t,a){Promise.resolve().then(a.t.bind(a,4451,23)),Promise.resolve().then(a.bind(a,9746))},9746:function(e,t,a){"use strict";a.d(t,{I:function(){return R},AppStoreWithRedux:function(){return x}});var r=a(7437),n=a(2265),l=a(9212),o=a.n(l);let i=e=>{let{capital:t,interestRate:a,duration:r,startDate:n,repayments:l}=e;if(""===a||""===t||""===r||0>=parseFloat(t.replace(",","."))||0>=parseFloat(a.replace(",",".")))return null;let o=l.map(e=>e?{...e,amount:parseFloat(e.amount.replace(",",".")),month:parseInt(e.month)}:e);return{interestRate:parseFloat(a.replace(",",".")),capital:parseFloat(t.replace(",",".")),duration:parseInt(r),startDate:n,repayments:o}},s=e=>e/100/12,u=(e,t,a)=>{let r=s(t);return r/(1-Math.pow(1+r,-a))*e},p=(e,t)=>e*s(t),d=e=>{let{interestRate:t,capital:a,duration:r,startDate:n,repayments:l}=e,i=[],s=u(a,t,r);for(let e=0;e<r;e+=1){let d=e+1,c=void 0!==l[d]?l[d].amount:0,m=0,h=s,f=i[e-1]?i[e-1].residualDebt:a;0!==c&&(h-=s=u(f-c,t,r-d+1),m=(r-d+1)*h-c);let v=p(f-c,t),Y=s-v,y=(i[e-1]?i[e-1].paidUpCapital:0)+(Y+c),M=f-(Y+c),C=(i[e-1]?i[e-1].paidUpInterests:0)+v,R=o()(n,"MM/YYYY").add(e,"month").format("MM/YYYY");i[e]={month:d,date:R,installment:s,interestsQuote:v,capitalQuote:Y,paidUpCapital:y,residualDebt:M,paidUpInterests:C,repayment:c,repaymentSaving:m}}return i};var c=a(9753);let m=(0,c.oM)({name:"AmortizationSchedule",initialState:{value:[]},reducers:{setAmortizationSchedule:(e,t)=>{e.value=t.payload}}}),{setAmortizationSchedule:h}=m.actions;var f=m.reducer,v=a(1444);let Y=v.I0,y=v.v9,M=(0,c.xC)({reducer:{amortizationSchedule:f}}),C={data:{interestRate:"",duration:"",capital:"",startDate:o()().format("MM/YYYY"),repayments:[]},setData:()=>{},handleChange:()=>{},addRepayment:()=>{},removeRepayment:()=>{},items:[]},R=(0,n.createContext)(C),S=e=>{let{children:t,mockData:a}=e,[l,o]=(0,n.useState)(a?{...C.data,...a.data}:C.data),s=y(e=>e.amortizationSchedule.value),u=Y();return(0,n.useEffect)(()=>{let e=i(l);e?u(h(d(e))):u(h([]))},[l,u]),(0,r.jsx)(R.Provider,{value:{data:l,setData:o,handleChange:e=>{let{value:t,name:a,validity:r}=e.target;r.valid&&o({...l,[a]:t})},addRepayment:e=>{let{month:t,amount:a,date:r}=e,n=[...l.repayments];n[parseInt(t)]={amount:a,date:r,month:t},o({...l,repayments:n})},removeRepayment:e=>{let t=[...l.repayments];t.splice(e,1),o({...l,repayments:t})},items:s},children:t})};function x(e){let{children:t}=e;return(0,r.jsx)(v.zt,{store:M,children:(0,r.jsx)(S,{children:t})})}},4451:function(){}},function(e){e.O(0,[927,990,123,971,23,744],function(){return e(e.s=7312)}),_N_E=e.O()}]);