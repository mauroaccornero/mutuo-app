(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5931:function(e,t,n){Promise.resolve().then(n.t.bind(n,4649,23)),Promise.resolve().then(n.bind(n,2943)),Promise.resolve().then(n.bind(n,8147)),Promise.resolve().then(n.bind(n,505)),Promise.resolve().then(n.bind(n,4376)),Promise.resolve().then(n.bind(n,1469))},2943:function(e,t,n){"use strict";n.d(t,{HeaderInfo:function(){return o}});var a=n(7437),r=n(2265),s=n(9746);let i=()=>(0,a.jsx)("div",{className:"empty-message message",children:"Fill the form with capital, interest rate and duration to see the amortization schedule. By adding repayments, you can save money on interests!"}),l=()=>{let{items:e}=(0,r.useContext)(s.I),t=e.slice(-1).pop();if(!t)return null;{let{month:n,paidUpInterests:r,paidUpCapital:s}=t,i=e.filter(e=>e.repayment>0),l=i.reduce((e,t)=>e+t.repayment,0),o=i.reduce((e,t)=>e+t.repaymentSaving,0);return(0,a.jsx)("div",{id:"boxes-container",className:"message",children:(0,a.jsxs)("div",{children:["On a ",(0,a.jsxs)("strong",{children:["paid-up capital of ",s.toFixed(2)," €"]})," ","you will pay"," ",(0,a.jsxs)("strong",{children:[r.toFixed(2)," € of interests"]})," in"," ",(0,a.jsxs)("strong",{children:[n," months"]}),". ",(0,a.jsx)("br",{}),"Total amount of interests is"," ",(0,a.jsxs)("strong",{children:[(r/s*100).toFixed(2),"% of capital"]}),"."," ",0===i.length?(0,a.jsx)(a.Fragment,{children:"No repayments were applied."}):(0,a.jsxs)(a.Fragment,{children:["With ",i.length," repayment",i.length>1&&"s",", for a total amount of"," ",(0,a.jsxs)("strong",{children:[l.toFixed(2)," €"]}),","," ",(0,a.jsxs)("strong",{children:["you can save ",o.toFixed(2)," € on interests"]}),"."," "]}),(0,a.jsx)("br",{}),"Try to update your repayments to see how much you can save."]})})}},o=()=>{let{items:e}=(0,r.useContext)(s.I);return(0,a.jsx)("div",{id:"head-wrapper",className:"box",children:0===e.length?(0,a.jsx)(i,{}):(0,a.jsx)(l,{})})}},2886:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var a=n(7437);n(2265);let r=e=>(0,a.jsx)("input",{type:"text",pattern:"[0-9]+([,][0-9]{0,2})?",...e})},8147:function(e,t,n){"use strict";n.d(t,{MortgageForm:function(){return h}});var a=n(7437),r=n(2265),s=n(9746);let i=[{year:5,months:60},{year:10,months:120},{year:15,months:180},{year:20,months:240},{year:25,months:300},{year:30,months:360},{year:35,months:420},{year:40,months:480}];var l=n(9212),o=n.n(l);let d=()=>{let e=o()(),t=[e.format("MM/YYYY")];for(let n=0;n<13;n++){let n=e.add(1,"month");t.push(n.format("MM/YYYY"))}return t};var c=n(2886);let h=()=>{let{handleChange:e,data:t}=(0,r.useContext)(s.I),{interestRate:n,capital:l,duration:o,startDate:h}=t,u=d();return(0,a.jsx)("div",{className:"box box-orange",children:(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-capital",children:"Capital"}),(0,a.jsxs)("div",{className:"input-container",children:[(0,a.jsx)(c.I,{placeholder:"Insert your mortgage capital",name:"capital","data-testid":"capital-input",value:l,id:"input-capital",onChange:t=>e(t),required:!0}),(0,a.jsx)("span",{children:"€"})]})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-interest-rate",children:"Interest rate"}),(0,a.jsxs)("div",{className:"input-container",children:[(0,a.jsx)(c.I,{placeholder:"Insert your mortgage interest rate",name:"interestRate","data-testid":"interest-rate-input",id:"input-interest-rate",value:n,onChange:t=>e(t),required:!0}),(0,a.jsx)("span",{children:"%"})]})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-duration",children:"Duration"}),(0,a.jsx)("div",{className:"input-container",children:(0,a.jsxs)("select",{required:!0,"data-testid":"duration-select",name:"duration",id:"input-duration",onChange:t=>e(t),value:o,children:[(0,a.jsx)("option",{value:0,children:"Choose a duration"},"option-duration-0"),Object.entries(i).map(e=>{let[,{months:t,year:n}]=e;return(0,a.jsxs)("option",{value:t,children:[n," years"]},"option-duration-".concat(t))})]})})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-start-date",children:"Start date"}),(0,a.jsx)("div",{className:"input-container",children:(0,a.jsxs)("select",{name:"startDate",onChange:t=>e(t),value:h,"data-testid":"start-date-select",id:"input-start-date",required:!0,children:[(0,a.jsx)("option",{value:0,children:"Choose a start date"},"option-month-0"),u.map(e=>(0,a.jsxs)("option",{value:e,children:[e," "]},"option-month-".concat(e)))]})})]})]})})}},505:function(e,t,n){"use strict";n.d(t,{RepaymentForm:function(){return l}});var a=n(7437),r=n(2265),s=n(2886),i=n(9746);let l=()=>{let{items:e,addRepayment:t}=(0,r.useContext)(i.I),[n,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)([]),[c,h]=(0,r.useState)({date:e.length>0?e[0].date:"",amount:"",month:e.length>0?e[0].month.toString():""});(0,r.useEffect)(()=>{l(e.filter(e=>e.repayment>0).map(e=>e.month.toString()).includes(c.month))},[c,e]),(0,r.useEffect)(()=>{d(e.map(e=>({date:e.date,month:e.month})))},[e]);let u=e=>{let{value:t,name:n,validity:a}=e.target;a.valid&&h({...c,[n]:t})},m=e=>{t(c),e.preventDefault()};return(0,a.jsx)(a.Fragment,{children:e.length>0&&(0,a.jsx)("div",{id:"form-repayment",className:"box box-orange",children:(0,a.jsxs)("form",{onSubmit:e=>m(e),children:[(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-amount",children:"Amount"}),(0,a.jsxs)("div",{className:"input-container",children:[(0,a.jsx)(s.I,{placeholder:"Insert a repayment amount",name:"amount",id:"input-amount","data-testid":"amount-input",onChange:e=>u(e),value:c.amount,required:!0}),(0,a.jsx)("span",{children:"€"})]})]}),(0,a.jsxs)("div",{className:"input-wrapper",children:[(0,a.jsx)("label",{htmlFor:"input-month",children:"Month"}),(0,a.jsxs)("select",{required:!0,name:"month",id:"input-month","data-testid":"month-input",onChange:e=>u(e),value:c.month,children:[(0,a.jsx)("option",{value:0,children:"Choose a month"},"option-month-0"),o.map(e=>(0,a.jsx)("option",{value:e.month,children:e.date},"option-month-".concat(e.date)))]})]}),(0,a.jsx)("div",{className:"input-wrapper",children:(0,a.jsx)("input",{role:"button",type:"submit","data-testid":"submit-repayment-input",value:"".concat(n?"Update":"Add"," repayment")})})]})})})}},4376:function(e,t,n){"use strict";n.d(t,{RepaymentsBox:function(){return i}});var a=n(7437),r=n(2265),s=n(9746);let i=()=>{let{items:e,removeRepayment:t}=(0,r.useContext)(s.I),n=e.filter(e=>e.repayment>0),i=n.reduce((e,t)=>e+t.repayment,0),l=n.reduce((e,t)=>e+t.repaymentSaving,0);return(0,a.jsx)(a.Fragment,{children:e.length>0&&(0,a.jsxs)("div",{id:"box-repayments",className:"box box-orange",children:[(0,a.jsx)("ul",{children:n.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{children:["With a repayment of"," ",(0,a.jsxs)("strong",{children:[e.repayment.toFixed(2)," €"]})," on"," ",(0,a.jsx)("strong",{children:e.date})," you save"," ",(0,a.jsxs)("strong",{children:[e.repaymentSaving.toFixed(2)," €"]})," on interests."]}),(0,a.jsx)("button",{onClick:()=>t(e.month),children:"x"})]},"repayment-".concat(e.month)))}),(0,a.jsxs)("div",{id:"total-repayments",children:[(0,a.jsxs)("div",{className:"total-repayment",children:[(0,a.jsx)("div",{children:"Total repayments"}),(0,a.jsxs)("div",{children:[i.toFixed(2)," €"]})]}),(0,a.jsxs)("div",{className:"total-repayment",children:[(0,a.jsx)("div",{children:"Total savings"}),(0,a.jsxs)("div",{children:[l.toFixed(2)," €"]})]}),(0,a.jsxs)("div",{className:"total-repayment",children:[(0,a.jsx)("div",{children:"Percentage"}),(0,a.jsxs)("div",{children:[(l/i*100||0).toFixed(2)," %"]})]})]})]})})}},1469:function(e,t,n){"use strict";n.d(t,{Table:function(){return l}});var a=n(7437),r=n(2265),s=n(9746);let i=e=>{let{item:t}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t.date}),(0,a.jsxs)("td",{className:"hide-on-mobile",children:[t.interestsQuote.toFixed(2)," €"]}),(0,a.jsxs)("td",{className:"hide-on-mobile",children:[t.capitalQuote.toFixed(2)," €"]}),(0,a.jsxs)("td",{children:[t.installment.toFixed(2)," €"]}),(0,a.jsxs)("td",{children:[t.paidUpCapital.toFixed(2)," €"]}),(0,a.jsxs)("td",{children:[t.residualDebt.toFixed(2)," €"]}),(0,a.jsxs)("td",{children:[t.paidUpInterests.toFixed(2)," €"]})]},t.date)},l=()=>{let{items:e}=(0,r.useContext)(s.I);return(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Month"}),(0,a.jsx)("th",{className:"hide-on-mobile",children:"Interests quote"}),(0,a.jsx)("th",{className:"hide-on-mobile",children:"Capital quote"}),(0,a.jsx)("th",{children:"Installment"}),(0,a.jsx)("th",{children:"Paid-up capital"}),(0,a.jsx)("th",{children:"Residual debt"}),(0,a.jsx)("th",{children:"Paid-up interests"})]})}),(0,a.jsx)("tbody",{children:e.length>0?e.map((e,t)=>(0,a.jsx)(i,{item:e},t)):(0,a.jsx)("tr",{className:"empty-table",children:(0,a.jsx)("td",{colSpan:6,children:"Fill the form to see the amortization schedule"})})})]})}},9746:function(e,t,n){"use strict";n.d(t,{I:function(){return b},AppStoreWithRedux:function(){return N}});var a=n(7437),r=n(2265),s=n(9212),i=n.n(s);let l=e=>{let{capital:t,interestRate:n,duration:a,startDate:r,repayments:s}=e;if(""===n||""===t||""===a||0>=parseFloat(t.replace(",","."))||0>=parseFloat(n.replace(",",".")))return null;let i=s.map(e=>e?{...e,amount:parseFloat(e.amount.replace(",",".")),month:parseInt(e.month)}:e);return{interestRate:parseFloat(n.replace(",",".")),capital:parseFloat(t.replace(",",".")),duration:parseInt(a),startDate:r,repayments:i}},o=e=>e/100/12,d=(e,t,n)=>{let a=o(t);return a/(1-Math.pow(1+a,-n))*e},c=(e,t)=>e*o(t),h=e=>{let{interestRate:t,capital:n,duration:a,startDate:r,repayments:s}=e,l=[],o=d(n,t,a);for(let e=0;e<a;e+=1){let h=e+1,u=void 0!==s[h]?s[h].amount:0,m=0,p=o,x=l[e-1]?l[e-1].residualDebt:n;0!==u&&(p-=o=d(x-u,t,a-h+1),m=(a-h+1)*p-u);let j=c(x-u,t),v=o-j,y=(l[e-1]?l[e-1].paidUpCapital:0)+(v+u),f=x-(v+u),g=(l[e-1]?l[e-1].paidUpInterests:0)+j,b=i()(r,"MM/YYYY").add(e,"month").format("MM/YYYY");l[e]={month:h,date:b,installment:o,interestsQuote:j,capitalQuote:v,paidUpCapital:y,residualDebt:f,paidUpInterests:g,repayment:u,repaymentSaving:m}}return l};var u=n(9753);let m=(0,u.oM)({name:"AmortizationSchedule",initialState:{value:[]},reducers:{setAmortizationSchedule:(e,t)=>{e.value=t.payload}}}),{setAmortizationSchedule:p}=m.actions;var x=m.reducer,j=n(1444);let v=j.I0,y=j.v9,f=(0,u.xC)({reducer:{amortizationSchedule:x}}),g={data:{interestRate:"",duration:"",capital:"",startDate:i()().format("MM/YYYY"),repayments:[]},setData:()=>{},handleChange:()=>{},addRepayment:()=>{},removeRepayment:()=>{},items:[]},b=(0,r.createContext)(g),F=e=>{let{children:t,mockData:n}=e,[s,i]=(0,r.useState)(n?{...g.data,...n.data}:g.data),o=y(e=>e.amortizationSchedule.value),d=v();return(0,r.useEffect)(()=>{let e=l(s);e?d(p(h(e))):d(p([]))},[s,d]),(0,a.jsx)(b.Provider,{value:{data:s,setData:i,handleChange:e=>{let{value:t,name:n,validity:a}=e.target;a.valid&&i({...s,[n]:t})},addRepayment:e=>{let{month:t,amount:n,date:a}=e,r=[...s.repayments];r[parseInt(t)]={amount:n,date:a,month:t},i({...s,repayments:r})},removeRepayment:e=>{let t=[...s.repayments];t.splice(e,1),i({...s,repayments:t})},items:o},children:t})};function N(e){let{children:t}=e;return(0,a.jsx)(j.zt,{store:f,children:(0,a.jsx)(F,{children:t})})}},4649:function(e){e.exports={style:{fontFamily:"'__Lato_58b346', '__Lato_Fallback_58b346'",fontStyle:"normal"},className:"__className_58b346"}}},function(e){e.O(0,[592,990,123,971,23,744],function(){return e(e.s=5931)}),_N_E=e.O()}]);